(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{456:function(s,a,t){"use strict";t.r(a);var n=t(8),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("strong",[s._v("高并发、微服务 、性能调优实战案例100讲，所有案例均源于个人工作实战，均配合代码落地")])]),s._v(" "),a("p",[s._v("加我微信：itsoku，所有案例均提供在线答疑。")]),s._v(" "),a("h1",{attrs:{id:"第79节-微服务跨库查询-如何解决-一次性搞懂"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第79节-微服务跨库查询-如何解决-一次性搞懂"}},[s._v("#")]),s._v(" 第79节 微服务跨库查询，如何解决？一次性搞懂")]),s._v(" "),a("p",[s._v("非常实用的一节，有点长，先收藏点赞，慢慢看。")]),s._v(" "),a("p",[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[s._v("目前整个课程59块钱，100个案例，含所有源码 & 文档 & 技术支持，可点击左下角小黄车了解")])]),s._v(" "),a("h1",{attrs:{id:"_1、背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、背景"}},[s._v("#")]),s._v(" 1、背景")]),s._v(" "),a("p",[s._v("大家都比较熟悉微服务，通常每个服务都有自己单独的数据库。")]),s._v(" "),a("h2",{attrs:{id:"_1-1、电商系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、电商系统"}},[s._v("#")]),s._v(" 1.1、电商系统")]),s._v(" "),a("p",[s._v("假如我们有个电商系统，里面有2个核心的服务")]),s._v(" "),a("ul",[a("li",[s._v("用户服务和订单服务")]),s._v(" "),a("li",[s._v("用户服务对应用户库")]),s._v(" "),a("li",[s._v("订单服务对应订单库")]),s._v(" "),a("li",[s._v("2个服务之间通过接口进行交互，比如要获取对方db中数据，也只能通过接口进行操作")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20240825093409596.png",alt:"image-20240825093409596"}})]),s._v(" "),a("h2",{attrs:{id:"_1-2、用户库-有个用户表-t-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、用户库-有个用户表-t-user"}},[s._v("#")]),s._v(" 1.2、用户库-有个用户表(t_user)")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("user_id")]),s._v(" "),a("td",[s._v("用户id，主键")])]),s._v(" "),a("tr",[a("td",[s._v("user_name")]),s._v(" "),a("td",[s._v("用户名")])]),s._v(" "),a("tr",[a("td",[s._v("mobile")]),s._v(" "),a("td",[s._v("手机号")])])])]),s._v(" "),a("h2",{attrs:{id:"_1-3、订单库-有个订单表-t-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3、订单库-有个订单表-t-order"}},[s._v("#")]),s._v(" 1.3、订单库-有个订单表(t_order)")]),s._v(" "),a("p",[s._v("只列出了本文需要的字段，其他字段省略了。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("order_id")]),s._v(" "),a("td",[s._v("订单号，主键")])]),s._v(" "),a("tr",[a("td",[s._v("user_id")]),s._v(" "),a("td",[s._v("用户id，来源于用户表(t_user)")])])])]),s._v(" "),a("h1",{attrs:{id:"_2、需求1-如何通过手机号查询订单列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、需求1-如何通过手机号查询订单列表"}},[s._v("#")]),s._v(" 2、需求1：如何通过手机号查询订单列表？")]),s._v(" "),a("h2",{attrs:{id:"方案1-跨服务多次查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案1-跨服务多次查询"}},[s._v("#")]),s._v(" 方案1：跨服务多次查询")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("step1：先调用用户服务接口，去用户表，根据手机号查询到用户id")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("String userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" user_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" mobile "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'手机号'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("step2：然后调用订单服务，去订单表，根据用户id便可查询用户的订单列表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("List"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Order")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" orderList "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_order "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#{user_id}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("step3：将结果返回")])])]),s._v(" "),a("h2",{attrs:{id:"方案2-数据冗余的方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方案2-数据冗余的方式"}},[s._v("#")]),s._v(" 方案2：数据冗余的方式")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("step1：在订单表，冗余手机号字段：user_mobile，如下，生成订单的时候，将用户手机号写入到订单表")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("order_id")]),s._v(" "),a("td",[s._v("订单号，主键")])]),s._v(" "),a("tr",[a("td",[s._v("user_id")]),s._v(" "),a("td",[s._v("用户id，来源于用户表(t_user)")])]),s._v(" "),a("tr",[a("td",[s._v("user_mobile")]),s._v(" "),a("td",[s._v("用户手机号")])])])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" t_order "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("user_mobile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("订单id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 用户id，用户手机号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("step2：此时通过手机号查询订单列表，只需走订单服务，查询订单表便可得到结果")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("List"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Order")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" orderList "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_order "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_mobile "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'手机号'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h1",{attrs:{id:"_3、需求2-如何通过手机号模糊查询订单列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、需求2-如何通过手机号模糊查询订单列表"}},[s._v("#")]),s._v(" 3、需求2：如何通过手机号模糊查询订单列表？")]),s._v(" "),a("h2",{attrs:{id:"_3-1、方案1-跨服务多次查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、方案1-跨服务多次查询"}},[s._v("#")]),s._v(" 3.1、方案1：跨服务多次查询")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("step1：先调用用户服务接口，去用户表，根据手机号模糊查询得到用户id列表：userIdList")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("List userIdLIst "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" user_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" mobile "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%手机号%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("step2：然后调用订单服务，去订单表，根据userIdList便可查询用户的订单列表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("List orderList "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_order "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userIdList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("step3：将结果返回")])])]),s._v(" "),a("h2",{attrs:{id:"_3-2、方案1-可能存在问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、方案1-可能存在问题"}},[s._v("#")]),s._v(" 3.2、方案1：可能存在问题")]),s._v(" "),a("p",[s._v("假如根据手机号模糊匹配的用户特别多，比如有上千个或者更多，那么这种方式性能上存在问题。")]),s._v(" "),a("p",[s._v("此时建议采用方案2：数据冗余的方式。")]),s._v(" "),a("h2",{attrs:{id:"_3-3、方案2-数据冗余的方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、方案2-数据冗余的方式"}},[s._v("#")]),s._v(" 3.3、方案2：数据冗余的方式")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("step1：在订单表，冗余手机号字段：user_mobile，如下，生成订单的时候，将用户手机号写入到订单表")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("order_id")]),s._v(" "),a("td",[s._v("订单号，主键")])]),s._v(" "),a("tr",[a("td",[s._v("user_id")]),s._v(" "),a("td",[s._v("用户id，来源于用户表(t_user)")])]),s._v(" "),a("tr",[a("td",[s._v("user_mobile")]),s._v(" "),a("td",[s._v("用户手机号")])])])])]),s._v(" "),a("li",[a("p",[s._v("step2：此时通过手机号查询订单列表，只需走订单服务，查询订单表便可得到结果")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("List orderList "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_order "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_mobile "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%手机号%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h1",{attrs:{id:"_4、数据冗余方式存在问题-数据一致性问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、数据冗余方式存在问题-数据一致性问题"}},[s._v("#")]),s._v(" 4、数据冗余方式存在问题：数据一致性问题")]),s._v(" "),a("p",[s._v("订单表冗余了用户手机号")]),s._v(" "),a("p",[s._v("假如用户通过用户服务修改了手机号，此时用户表手机号是最新的，而订单表还是用户旧的手机号")]),s._v(" "),a("p",[s._v("就出现了数据不一致的问题：用户库用户表中的手机号和订单库订单表中的手机号不一致")]),s._v(" "),a("p",[s._v("如何解决？向下看。")]),s._v(" "),a("h1",{attrs:{id:"_5、冗余方案中-数据不一致如何解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、冗余方案中-数据不一致如何解决"}},[s._v("#")]),s._v(" 5、冗余方案中，数据不一致如何解决？")]),s._v(" "),a("h2",{attrs:{id:"_5-1、订单库添加冗余表-t-user-copy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、订单库添加冗余表-t-user-copy"}},[s._v("#")]),s._v(" 5.1、订单库添加冗余表：t_user_copy")]),s._v(" "),a("p",[s._v("可以在订单库创建一个用户冗余表，专门用来冗余用户的数据，表名可以叫：t_user_copy")]),s._v(" "),a("p",[s._v("如下，这个表的字段需要根据需求来，需要看下订单库需要用到用户表那些字段，把需要用到的字段冗余过来就可以了，没必要将用户表所有的字段都给拿过来")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("字段")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("user_id")]),s._v(" "),a("td",[s._v("用户id，主键")])]),s._v(" "),a("tr",[a("td",[s._v("user_name")]),s._v(" "),a("td",[s._v("用户名")])]),s._v(" "),a("tr",[a("td",[s._v("mobile")]),s._v(" "),a("td",[s._v("手机号")])])])]),s._v(" "),a("h2",{attrs:{id:"_5-2、将用户库中的用户表数据-同步到订单库的冗余表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2、将用户库中的用户表数据-同步到订单库的冗余表"}},[s._v("#")]),s._v(" 5.2、将用户库中的用户表数据，同步到订单库的冗余表")]),s._v(" "),a("ol",[a("li",[s._v("刚创建订单库的冗余表（t_user_copy）的时候，上线后，可以通过程序全量从用户库的用户表同步一份过来")]),s._v(" "),a("li",[s._v("然后开启增量同步：后期用户表数据发生变化后，比如用户表发生了insert、delete、update，可以通过MQ广播一条用户数变更记录，订单服务监听这个消息，然后将变化的同步到t_user_copy这个冗余表就可以了，下面来看下增量同步的具体步骤。")])]),s._v(" "),a("h2",{attrs:{id:"_5-3、增量同步具体步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3、增量同步具体步骤"}},[s._v("#")]),s._v(" 5.3、增量同步具体步骤")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("用户表只能通过用户服务进行操作，用户表发生了任何 "),a("code",[s._v("insert、delete、update")]),s._v("，用户服务通过mq广播一条消息，如下，消息中只需要用户的id就可以了，不需要知道这条消息具体是什么操作引起的")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"userId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"本次发生变化的用户id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("订单服务订阅这种消息，收到消息后，做如下处理")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1、从消息中拿到用户id")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2、上分布式锁，锁的key：UserCopy:用户id；这里为了避免数据一致性，要确保同一个userId，若来了多条消息，需要排队消费，所以上了分布式锁；若不上锁，假如同一个userId，发生多次update操作，会产生多条消息，可能会出现并发消费，最终同步过来的数据可能和用户表中的数据不一致")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" lockKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UserCopy:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lockKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3、携带userId,调用用户服务提供的接口，拿到用户信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 根据userId调用用户服务提供的接口，获取用户信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//4、从冗余表先删除用户信息")]),s._v("\ndelete from t_user_copy where user_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" #"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//5、若user不为空，则插入到订单库冗余表,user=null；说明这个用户被删了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tinsert into "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t_user_copy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" values "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("#"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//6、释放分布式锁")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lockKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("blockquote",[a("p",[s._v("增量同步这个方案，建议大家多看几遍，消化下")])])])]),s._v(" "),a("h1",{attrs:{id:"_6、总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、总结"}},[s._v("#")]),s._v(" 6、总结")]),s._v(" "),a("ol",[a("li",[s._v("关于跨库查询，提供了2种方案")]),s._v(" "),a("li",[s._v("方案1：通过跨服务多次查询，解决问题")]),s._v(" "),a("li",[s._v("方案2：通过数据冗余的方式，解决问题；不过需要考虑数据同步的问题，关于数据同步的，大家可以将上面的数据同步方案多看几遍，如果大家工作中遇到数据同步的方案，也可以采用这种方式")])]),s._v(" "),a("h1",{attrs:{id:"高并发-微服务-性能调优实战案例100讲"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高并发-微服务-性能调优实战案例100讲"}},[s._v("#")]),s._v(" 高并发 & 微服务 & 性能调优实战案例100讲")]),s._v(" "),a("h2",{attrs:{id:"已更新-79-节课"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#已更新-79-节课"}},[s._v("#")]),s._v(" 已更新 79 节课")]),s._v(" "),a("p",[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[s._v("目前整个课程59块钱，含所有源码 & 文档 & 技术支持，一杯咖啡的价格，还没下手的朋友，赶紧了")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 分片上传实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 通用并发处理工具类实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 实现一个好用接口性能压测工具类\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 超卖问题的"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("种解决方案，也是防止并发修改数据出错的通用方案\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Semaphore")]),s._v("实现接口限流实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" 并行查询，优化接口响应速度实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 接口性能优化之大事务优化\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" 通用的"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Excel")]),s._v("动态导出功能实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" 手写线程池管理器，管理"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("监控所有线程池\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" 动态线程池\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("实现动态"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Job")]),s._v("实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" 并行查询，性能优化利器，可能有坑\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.")]),s._v(" 幂等的"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("种解决方案，吃透幂等性问题\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.")]),s._v(" 接口通用返回值设计与实现\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.")]),s._v(" 接口太多，各种dto、vo不计其数，如何命名？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.")]),s._v(" 一个业务太复杂了，方法太多，如何传参？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.")]),s._v(" 接口报错，如何快速定位日志？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.")]),s._v(" 线程数据共享必学的"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("个工具类："),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),s._v("、"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InheritableThreadLocal")]),s._v("、"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TransmittableThreadLocal")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.")]),s._v(" 通过"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AOP")]),s._v("统一打印请求链路日志，排错效率飞升\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.")]),s._v(" 大批量任务处理常见的方案（模拟余额宝发放收益）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.")]),s._v(" 并发环境下，如何验证代码是否正常？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MySql")]),s._v("和"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redis")]),s._v("数据一致性\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("数据脱敏优雅设计与实现\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24.")]),s._v(" 一行代码搞定系统操作日志\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Aop")]),s._v("简化"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyBatis")]),s._v("分页功能\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),s._v(" 遇到线程池有大坑 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 通用解决方案\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("读写分离实战（一个注解搞定读写分离 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" 强制路由主库）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("典型的使用场景\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("如何确保消息的可靠性\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中，手把手教你实现事务消息\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.")]),s._v(" 手写一个好用的延迟任务处理工具类\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("延迟消息通用方案实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("消息幂等消费 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 消费失败衰减式重试通用方案 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 代码 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 文档\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题：顺序消息通用方案实战 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 代码落地 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 文档\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题：消息积压相关问题及解决思路\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36.")]),s._v(" 分布式事务"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("最终一致性"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("实现跨库转账（案例"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("源码"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("文档）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37.")]),s._v(" 分布式事务"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("最终一致性"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("实现电商账户余额提现到微信钱包（案例"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("源码"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("文档）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38.")]),s._v(" 分布式事务：通用的"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCC")]),s._v("分布式事务生产级代码落地实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39.")]),s._v(" 分布式锁详解\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40.")]),s._v(" 分享一个特别好用的"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redissson")]),s._v("分布式锁工具类\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41.")]),s._v(" 一个注解轻松搞定分布式锁\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42.")]),s._v(" 微服务中如何传递公共参数？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43.")]),s._v(" 接口幂等，通用方案 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 代码落地\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44.")]),s._v(" 微服务链路日志追踪实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45.")]),s._v(" 接口测试利器"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Client")]),s._v("，不用"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Postman")]),s._v("也可以\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46.")]),s._v(" 封装"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyBatis")]),s._v("，实现通用无"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SQL")]),s._v("版"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CRUD")]),s._v("功能"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ORM")]),s._v("框架\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyBatisPlus")]),s._v(" 轻松实现多租户数据隔离\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48.")]),s._v(" 电商系统"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("资金账户表设计 及 应用实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UML")]),s._v("画图神器："),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PlantUML")]),s._v("，画图效率飞升\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.")]),s._v(" 多线程事务，"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("秒插入百万数据\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中自动初始化数据库功能，非常好用\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("优雅停机\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.")]),s._v(" 分享一个特好用的集合工具类，开发效率轻松翻倍\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.")]),s._v(" 性能调优：线程死锁相关问题\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.")]),s._v(" 如何排查"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OOM")]),s._v("？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56.")]),s._v(" cpu飙升，如何快速排查？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("57.")]),s._v(" cpu飙升，使用"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arthas")]),s._v("，"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("秒定位问题\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58.")]),s._v(" 接口响应慢，使用"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arthas")]),s._v("，"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("秒定位问题代码\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.")]),s._v(" 策略模式，轻松消除ifelse代码\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60.")]),s._v(" 生产上，代码未生效，如何排查？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61.")]),s._v(" 使用"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MySQL")]),s._v("，实现一个高性能，分布式id生成器\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62.")]),s._v(" 方法执行异常，使用arthas，快速定位问题\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("63.")]),s._v(" 扫码登录详解\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64.")]),s._v(" 使用hutool生成"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("解析二维码，太方便了\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中，redis中实现排行榜\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("66.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中，"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redis")]),s._v("如何实现查找附近的人功能？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("67.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中，接口签名，通用方案，一次性搞懂\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("68.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("中，接口加解密，通用方案实战\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69.")]),s._v(" 分库、分表、分库分表，如何选择？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.")]),s._v(" 分库分表：分表字段如何选择？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71.")]),s._v(" 分库分表：分表数量为什么建议是"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("的n次方？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72.")]),s._v(" 分库分表：如何平滑迁移数据？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73.")]),s._v(" 并发编程有多难？值得反复研究的一个案例\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.")]),s._v(" 使用"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redis")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pipeline")]),s._v("，接口性能提升"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("倍\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75.")]),s._v(" 电商中，重复支付如何解决？\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76.")]),s._v(" 千万级数据，全表update的正确姿势\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("77.")]),s._v(" 优雅实现树形菜单，适用于所有树，太好用了\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78.")]),s._v(" 接口调用利器："),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v("，吃透它\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("79.")]),s._v(" 微服务跨库查询，如何解决？一次性搞懂\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br")])]),a("h2",{attrs:{id:"课程部分大纲-连载中。。。。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#课程部分大纲-连载中。。。。"}},[s._v("#")]),s._v(" 课程部分大纲，连载中。。。。")]),s._v(" "),a("p",[s._v("以下课程均来源于个人多年的实战，均提供原理讲解 && 源码落地")]),s._v(" "),a("ol",[a("li",[s._v("分片上传实战")]),s._v(" "),a("li",[s._v("通用并发处理工具类实战")]),s._v(" "),a("li",[s._v("实现一个好用接口性能压测工具类")]),s._v(" "),a("li",[s._v("超卖问题的4种解决方案，也是防止并发修改数据出错的通用方案")]),s._v(" "),a("li",[s._v("Semaphore实现接口限流实战")]),s._v(" "),a("li",[s._v("并行查询，优化接口响应速度实战")]),s._v(" "),a("li",[s._v("接口性能优化之大事务优化")]),s._v(" "),a("li",[s._v("通用的Excel动态导出功能实战")]),s._v(" "),a("li",[s._v("手写线程池管理器，管理&监控所有线程池")]),s._v(" "),a("li",[s._v("动态线程池")]),s._v(" "),a("li",[s._v("SpringBoot实现动态Job实战")]),s._v(" "),a("li",[s._v("并行查询，性能优化利器，可能有坑")]),s._v(" "),a("li",[s._v("幂等的4种解决方案，吃透幂等性问题")]),s._v(" "),a("li",[s._v("接口通用返回值设计与实现")]),s._v(" "),a("li",[s._v("接口太多，各种dto、vo不计其数，如何命名？")]),s._v(" "),a("li",[s._v("一个业务太复杂了，方法太多，如何传参？")]),s._v(" "),a("li",[s._v("接口报错，如何快速定位日志？")]),s._v(" "),a("li",[s._v("线程数据共享必学的3个工具类：ThreadLocal、InheritableThreadLocal、TransmittableThreadLocal")]),s._v(" "),a("li",[s._v("通过AOP统一打印请求链路日志，排错效率飞升")]),s._v(" "),a("li",[s._v("大批量任务处理常见的方案（模拟余额宝发放收益）")]),s._v(" "),a("li",[s._v("并发环境下，如何验证代码是否正常？")]),s._v(" "),a("li",[s._v("MySql和Redis数据一致性")]),s._v(" "),a("li",[s._v("SpringBoot数据脱敏优雅设计与实现")]),s._v(" "),a("li",[s._v("一行代码搞定系统操作日志")]),s._v(" "),a("li",[s._v("Aop简化MyBatis分页功能")]),s._v(" "),a("li",[s._v("ThreadLocal 遇到线程池有大坑 & 通用解决方案")]),s._v(" "),a("li",[s._v("SpringBoot读写分离实战（一个注解搞定读写分离 && 强制路由主库）")]),s._v(" "),a("li",[s._v("MQ专题：MQ典型的7种使用场景")]),s._v(" "),a("li",[s._v("MQ专题：如何确保消息的可靠性")]),s._v(" "),a("li",[s._v("MQ专题：SpringBoot中，手把手教你实现事务消息")]),s._v(" "),a("li",[s._v("手写一个好用的延迟任务处理工具类")]),s._v(" "),a("li",[s._v("MQ专题：延迟消息通用方案实战")]),s._v(" "),a("li",[s._v("MQ专题：消息幂等消费 & 消费失败自动重试通用方案 & 代码落地")]),s._v(" "),a("li",[s._v("MQ专题：顺序消息通用方案实战")]),s._v(" "),a("li",[s._v("MQ专题：消息积压问题")]),s._v(" "),a("li",[s._v("分布式事务-MQ最终一致性-实现跨库转账（案例+源码+文档）")]),s._v(" "),a("li",[s._v("分布式事务-MQ最终一致性-实现电商账户余额提现到微信钱包（案例+源码+文档）")]),s._v(" "),a("li",[s._v("分布式事务：通用的TCC分布式事务生产级代码落地实战")]),s._v(" "),a("li",[s._v("分布式锁详解")]),s._v(" "),a("li",[s._v("分享一个特别好用的Redissson分布式锁工具类")]),s._v(" "),a("li",[s._v("分布式锁：一个注解轻松实现布式锁")]),s._v(" "),a("li",[s._v("微服务中如何传递上下文？实战")]),s._v(" "),a("li",[s._v("接口幂等，通用方案 & 代码落地")]),s._v(" "),a("li",[s._v("微服务链路日志追踪实战")]),s._v(" "),a("li",[s._v("接口测试利器HTTP Client，不用Postman也可以")]),s._v(" "),a("li",[s._v("封装MyBatis，实现通用无SQL版CRUD功能")]),s._v(" "),a("li",[s._v("MyBatisPlus 轻松实现 多租户数据隔离")]),s._v(" "),a("li",[s._v("电商系统-资金账户表设计 及 应用实战")]),s._v(" "),a("li",[s._v("开发者必须掌握的一款UML画图工具，画图效率飞升")]),s._v(" "),a("li",[s._v("多线程事务，3秒插入百万数据")]),s._v(" "),a("li",[s._v("SpringBoot自动初始化数据库功能，太好用了")]),s._v(" "),a("li",[s._v("SpringBoot优雅停机")]),s._v(" "),a("li",[s._v("分享一个特别好用的集合工具类，开发效率大幅提升")]),s._v(" "),a("li",[s._v("性能调优：如何排查死锁？")]),s._v(" "),a("li",[s._v("如何排查OOM？")]),s._v(" "),a("li",[s._v("cpu飙升，如何快速排查？")]),s._v(" "),a("li",[s._v("cpu飙升，使用Arthas，3秒定位问题")]),s._v(" "),a("li",[s._v("接口响应慢，使用Arthas，3秒定位问题代码")]),s._v(" "),a("li",[s._v("策略模式，轻松消除ifelse代码")]),s._v(" "),a("li",[s._v("生产上，代码未生效，如何排查？")]),s._v(" "),a("li",[s._v("使用MySQL，实现一个高性能，分布式id生成器")]),s._v(" "),a("li",[s._v("方法执行异常，使用arthas，快速定位问题")]),s._v(" "),a("li",[s._v("扫码登录详解")]),s._v(" "),a("li",[s._v("使用hutool生成&解析二维码，太方便了")]),s._v(" "),a("li",[s._v("SpringBoot中，Redis如何实现排行榜功能？")]),s._v(" "),a("li",[s._v("SpringBoot中，Redis如何实现查找附近的人功能？")]),s._v(" "),a("li",[s._v("SpringBoot中，接口签名，通用方案，一次性搞懂")]),s._v(" "),a("li",[s._v("SpringBoot中，接口加解密，通用方案实战")]),s._v(" "),a("li",[s._v("分库、分表、分库分表，如何选择？")]),s._v(" "),a("li",[s._v("分库分表：分表字段如何选择？")]),s._v(" "),a("li",[s._v("分库分表：分表数量为什么建议是2的n次方？")]),s._v(" "),a("li",[s._v("分库分表：如何平滑迁移数据？")]),s._v(" "),a("li",[s._v("并发编程有多难？值得反复研究的一个案例")]),s._v(" "),a("li",[s._v("使用Redis Pipeline，接口性能提升10倍")]),s._v(" "),a("li",[s._v("电商系统中，如何解决重复支付？")]),s._v(" "),a("li",[s._v("千万级数据，全表update的正确姿势")]),s._v(" "),a("li",[s._v("优雅实现树形菜单，适用于所有树，太好用了")]),s._v(" "),a("li",[s._v("接口调用利器：RestTemplate，吃透它")]),s._v(" "),a("li",[s._v("微服务跨库查询，如何解决？")]),s._v(" "),a("li",[s._v("更多实战案例详解")])])])}),[],!1,null,null,null);a.default=e.exports}}]);