(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{406:function(s,t,a){"use strict";a.r(t);var _=a(8),v=Object(_.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("strong",[s._v("高并发、微服务 、性能调优实战案例100讲，所有案例均源于个人工作实战，均配合代码落地")])]),s._v(" "),t("p",[s._v("加我微信：itsoku，所有案例均提供在线答疑。")]),s._v(" "),t("h1",{attrs:{id:"第29节-mq专题-如何确保消息的可靠性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第29节-mq专题-如何确保消息的可靠性"}},[s._v("#")]),s._v(" 第29节 MQ专题-如何确保消息的可靠性")]),s._v(" "),t("p",[s._v("视频可能有点长，请大家认证看完，本文对于工作或面试，都是非常有用的一节。")]),s._v(" "),t("p",[t("span",{staticStyle:{"font-weight":"bold",color:"red"}},[s._v("目前整个课程59块钱，100个案例，含所有源码 & 文档 & 技术支持，可点击左下角小黄车了解")])]),s._v(" "),t("h2",{attrs:{id:"消息的使用过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息的使用过程"}},[s._v("#")]),s._v(" 消息的使用过程")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/image-20240428175659655.png",alt:"image-20240428175659655"}})]),s._v(" "),t("h2",{attrs:{id:"整个过程中消息可靠性需要考虑3个问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整个过程中消息可靠性需要考虑3个问题"}},[s._v("#")]),s._v(" 整个过程中消息可靠性需要考虑3个问题")]),s._v(" "),t("ol",[t("li",[s._v("如何确保生产者这边业务执行成功，消息一定会投递到MQ？")]),s._v(" "),t("li",[s._v("如何确保消息到达MQ后，MQ这边不会丢失？")]),s._v(" "),t("li",[s._v("如何确保消费者一定能消费到这条消息？")])]),s._v(" "),t("h2",{attrs:{id:"如何确保生产者这边业务执行成功-消息一定投递成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何确保生产者这边业务执行成功-消息一定投递成功"}},[s._v("#")]),s._v(" 如何确保生产者这边业务执行成功，消息一定投递成功？")]),s._v(" "),t("p",[s._v("这块涉及到消息投递的整个过程，下面咱们来通过一个案例来了解消息投递的整个过程，以及在这个过程中，如何确保业务执行成功，消息一定会投递成功。")]),s._v(" "),t("h2",{attrs:{id:"电商中有这样的一个场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#电商中有这样的一个场景"}},[s._v("#")]),s._v(" 电商中有这样的一个场景")]),s._v(" "),t("p",[s._v("下单成功之后送积分的操作，我们使用mq来实现")]),s._v(" "),t("p",[s._v("下单成功之后，投递一条消息到mq，积分系统消费消息，给用户增加积分")]),s._v(" "),t("p",[s._v("下面会介绍4种方式，来看下这个业务中消息投递的一个过程，这些方案，面试的时候，如果你能够说出来，会让面试官对你刮目先看。")]),s._v(" "),t("h2",{attrs:{id:"消息投递方式一-业务事务中投递消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递方式一-业务事务中投递消息"}},[s._v("#")]),s._v(" 消息投递方式一：业务事务中投递消息")]),s._v(" "),t("h3",{attrs:{id:"正常流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正常流程"}},[s._v("#")]),s._v(" 正常流程")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("step1")]),s._v("：开启本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step2")]),s._v("：生成购物订单")]),s._v(" "),t("li",[t("strong",[s._v("step3")]),s._v("：投递消息到mq")]),s._v(" "),t("li",[t("strong",[s._v("step4")]),s._v("：提交本地事务")])]),s._v(" "),t("p",[s._v("这种方式是将发送消息放在了事务提交之前。")]),s._v(" "),t("h3",{attrs:{id:"异常情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常情况"}},[s._v("#")]),s._v(" 异常情况")]),s._v(" "),t("ul",[t("li",[s._v("step3发生异常：导致step4失败，商品下单失败，直接影响到商品下单业务")]),s._v(" "),t("li",[s._v("step4发生异常，其他step成功：商品下单失败，消息投递成功，给用户增加了积分")])]),s._v(" "),t("h2",{attrs:{id:"消息投递方式二-业务事务提交后、后投递消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递方式二-业务事务提交后、后投递消息"}},[s._v("#")]),s._v(" 消息投递方式二：业务事务提交后、后投递消息")]),s._v(" "),t("p",[s._v("下面我们换种方式，我们将发送消息放到事务之后进行。")]),s._v(" "),t("h3",{attrs:{id:"正常流程-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正常流程-2"}},[s._v("#")]),s._v(" 正常流程")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("step1")]),s._v("：开启本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step2")]),s._v("：生成购物订单")]),s._v(" "),t("li",[t("strong",[s._v("step3")]),s._v("：提交本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step4")]),s._v("：投递消息到mq")])]),s._v(" "),t("h3",{attrs:{id:"异常情况-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常情况-2"}},[s._v("#")]),s._v(" 异常情况")]),s._v(" "),t("p",[s._v("step4发生异常，其他step成功：导致商品下单成功，投递消息失败，用户未增加积分")]),s._v(" "),t("p",[s._v("上面两种是比较常见的做法，也是最容易出错的。")]),s._v(" "),t("h2",{attrs:{id:"消息投递方式三-事务消息-二阶段投递"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递方式三-事务消息-二阶段投递"}},[s._v("#")]),s._v(" 消息投递方式三：事务消息（二阶段投递）")]),s._v(" "),t("h3",{attrs:{id:"需要再本地业务库添加一张本地消息表-t-msg-record"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需要再本地业务库添加一张本地消息表-t-msg-record"}},[s._v("#")]),s._v(" 需要再本地业务库添加一张本地消息表（t_msg_record）")]),s._v(" "),t("ul",[t("li",[s._v("id")]),s._v(" "),t("li",[s._v("body：消息体")]),s._v(" "),t("li",[s._v("status：消息状态：0：待投递，1：投递成功，2：投递失败")])]),s._v(" "),t("h3",{attrs:{id:"正常流程-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正常流程-3"}},[s._v("#")]),s._v(" 正常流程")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("step1")]),s._v("：开启本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step2")]),s._v("：生成购物订单")]),s._v(" "),t("li",[t("strong",[s._v("step3")]),s._v("：本地库中插入一条需要发送消息的记录t_msg_record，status为0（待投递）")]),s._v(" "),t("li",[t("strong",[s._v("step4")]),s._v("：提交本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step5")]),s._v("：若事务提交成功，则投递消息到MQ，然后将t_msg_record中的status置为1（投递成功）；若本地事务提交失败，则将t_msg_record表中的消息记录删掉")])]),s._v(" "),t("h3",{attrs:{id:"说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[s._v("#")]),s._v(" 说明")]),s._v(" "),t("p",[s._v("这种方式借助了数据库的事务，业务和消息记录作为了一个原子操作，业务成功之后，消息记录必定是存在的。")]),s._v(" "),t("h3",{attrs:{id:"异常情况-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常情况-3"}},[s._v("#")]),s._v(" 异常情况")]),s._v(" "),t("p",[s._v("若step4成功，step5失败了，会导致业务执行成功，而消息投递失败，此时我们需要有个job对待发送的消息进行补偿投递。")]),s._v(" "),t("h3",{attrs:{id:"消息投递补偿job"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递补偿job"}},[s._v("#")]),s._v(" 消息投递补偿job")]),s._v(" "),t("p",[s._v("这个job负责从本地t_msg_record表中查询出状态为0记录，重新投递。")]),s._v(" "),t("p",[s._v("对于投递失败的，采用衰减的方式进行重试，比如第1次失败了，则10秒后，继续重试，若还是失败，则再过20秒，再次重试，需要设置一个最大重试次数，最终还是投递失败，则需要告警+人工干预。")]),s._v(" "),t("h2",{attrs:{id:"建议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建议"}},[s._v("#")]),s._v(" 建议")]),s._v(" "),t("p",[s._v("若公司微服务比较多，都会用到MQ这块，那么可以将这块做成一个springboot的starter，使用起来更容易。")]),s._v(" "),t("h2",{attrs:{id:"消息投递方式四-独立出来一个消息服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递方式四-独立出来一个消息服务"}},[s._v("#")]),s._v(" 消息投递方式四：独立出来一个消息服务")]),s._v(" "),t("p",[s._v("增加一个"),t("strong",[s._v("消息服务")]),s._v("及"),t("strong",[s._v("消息库")]),s._v("，负责消息的落库、将消息发送投递到mq，注意这里新增的一个消息服务可以是一个SpringBoot应用，如果你是做架构的可以考虑这种方式，或者面试的时候也可以给面试官介绍下这种方案")]),s._v(" "),t("h3",{attrs:{id:"业务库需要添加一张消息日志表-t-msg-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#业务库需要添加一张消息日志表-t-msg-log"}},[s._v("#")]),s._v(" 业务库需要添加一张消息日志表（t_msg_log）")]),s._v(" "),t("ul",[t("li",[s._v("id")]),s._v(" "),t("li",[s._v("bus_id：业务id")]),s._v(" "),t("li",[s._v("bus_type：业务类型")])]),s._v(" "),t("h3",{attrs:{id:"消息服务需要一张消息表-t-msg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息服务需要一张消息表-t-msg"}},[s._v("#")]),s._v(" 消息服务需要一张消息表（t_msg)")]),s._v(" "),t("ul",[t("li",[s._v("id：主键，消息id")]),s._v(" "),t("li",[s._v("msg_log_id：业务方t_msg_log表的id")]),s._v(" "),t("li",[s._v("body：消息体")]),s._v(" "),t("li",[s._v("msg_log_url：业务方t_msg_log记录回查的接口")]),s._v(" "),t("li",[s._v("status：状态，0：待投递，1：投递成功，2：投递失败")]),s._v(" "),t("li",[s._v("fail_msg：投递失败原因")])]),s._v(" "),t("h3",{attrs:{id:"消息投递的过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息投递的过程"}},[s._v("#")]),s._v(" 消息投递的过程")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("step1")]),s._v("：开启本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step2")]),s._v("：生成购物订单")]),s._v(" "),t("li",[t("strong",[s._v("step3")]),s._v("：本地库t_msg_log表写入一条记录：insert into t_msg_log (bus_id,bus_type） values ('订单id','CREATE_ORDER')")]),s._v(" "),t("li",[t("strong",[s._v("step4")]),s._v("：调用消息服务，需携带（t_msg_log.id，消息体，消息日志回查的url），消息服务接收到请求后，向t_msg表插入记录（status=0，待发送），并返回消息id：msg_id")]),s._v(" "),t("li",[t("strong",[s._v("step5")]),s._v("：提交本地事务")]),s._v(" "),t("li",[t("strong",[s._v("step6")]),s._v("：如果上面都成功，使用step4中的msg_id调用消息服务，消息服务则将消息投递到mq中，修改消息记录状态为投递成功(t_msg.status=1)；如果上面有失败的情况，则消息服务将消息删掉")])]),s._v(" "),t("h3",{attrs:{id:"可能存在的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可能存在的问题"}},[s._v("#")]),s._v(" 可能存在的问题")]),s._v(" "),t("p",[s._v("若step6失败，消息服务t_msg表中的这条消息，将处于待发送状态，但是业务库订单已经生成了，以及t_msg_log表也是有记录的，对于这种情况，消息服务需新增一个job，对于t_msg表中记录为0的消息，拿到t_msg表中的msg_log_id去回查msg_log_url这个接口，去查一下业务库中的t_msg_log 表是否有记录，有记录说明业务是执行成功的，此时消息服务补发消息到MQ就可以了；对于回查不到的，有可能业务方本地事务还未提交，不能认定为业务方本地事务执行失败了，建议等到1天之后，再清理下这种消息。")]),s._v(" "),t("h2",{attrs:{id:"如何确保消息到达mq后-在mq这边不会丢失"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何确保消息到达mq后-在mq这边不会丢失"}},[s._v("#")]),s._v(" 如何确保消息到达MQ后，在MQ这边不会丢失？")]),s._v(" "),t("p",[s._v("有些MQ为了性能，收到消息后，会将消息放在内存中，并没有立即持久化到磁盘，此时MQ挂了，消息会丢失。")]),s._v(" "),t("p",[s._v("若要确保MQ收到消息后，消息不会丢失，则收到投递过来的消息后，立即持久化，这个操作基本上所有的MQ都是支持的，使用的时候配置一下就可以了。")]),s._v(" "),t("p",[s._v("为了防止MQ单节点故障，MQ还需要做主备，这样才可以最大限度的确保消息不会丢失。")]),s._v(" "),t("h2",{attrs:{id:"消费者如何确保消息一定会被消费"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消费者如何确保消息一定会被消费"}},[s._v("#")]),s._v(" 消费者如何确保消息一定会被消费？")]),s._v(" "),t("p",[s._v("消费者这边可以采用下面的过程，可以确保消息一定会被消费。")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("step1")]),s._v("：从MQ中拉取消息")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("step2")]),s._v("：执行业务逻辑（需要做幂等）")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("step3")]),s._v("：通知MQ删除这条消息")])])]),s._v(" "),t("p",[s._v("由于step3这个步骤涉及到网络通信，网络通信存在不可靠的因素，可能会失败，导致消息没有被删掉，就会出现该消息再次消费的情况，所以step2需要做幂等处理，这种方式可以确保消息必然会被成功消费一次。")]),s._v(" "),t("h2",{attrs:{id:"下节预告"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下节预告"}},[s._v("#")]),s._v(" 下节预告")]),s._v(" "),t("p",[s._v("下节带大家实现事务消息的代码，还没有关注的朋友，先关注下。")]),s._v(" "),t("h1",{attrs:{id:"高并发-微服务-性能调优实战案例100讲"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高并发-微服务-性能调优实战案例100讲"}},[s._v("#")]),s._v(" 高并发 & 微服务 & 性能调优实战案例100讲")]),s._v(" "),t("h2",{attrs:{id:"已更新-29-节课"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已更新-29-节课"}},[s._v("#")]),s._v(" 已更新 29 节课")]),s._v(" "),t("p",[t("span",{staticStyle:{"font-weight":"bold",color:"red"}},[s._v("目前整个课程59块钱，含所有源码 & 文档 & 技术支持，一杯咖啡的价格，还没下手的朋友，赶紧了，马上要涨价了")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 分片上传实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 通用并发处理工具类实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 实现一个好用接口性能压测工具类\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 超卖问题的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("种解决方案，也是防止并发修改数据出错的通用方案\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Semaphore")]),s._v("实现接口限流实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" 并行查询，优化接口响应速度实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 接口性能优化之大事务优化\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" 通用的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Excel")]),s._v("动态导出功能实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" 手写线程池管理器，管理"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("监控所有线程池\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" 动态线程池\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("实现动态"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Job")]),s._v("实战\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" 并行查询，性能优化利器，可能有坑\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.")]),s._v(" 幂等的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("种解决方案，吃透幂等性问题\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.")]),s._v(" 接口通用返回值设计与实现\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.")]),s._v(" 接口太多，各种dto、vo不计其数，如何命名？\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.")]),s._v(" 一个业务太复杂了，方法太多，如何传参？\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.")]),s._v(" 接口报错，如何快速定位日志？\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.")]),s._v(" 线程数据共享必学的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("个工具类："),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InheritableThreadLocal")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TransmittableThreadLocal")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.")]),s._v(" 通过"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AOP")]),s._v("统一打印请求链路日志，排错效率飞升\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.")]),s._v(" 大批量任务处理常见的方案（模拟余额宝发放收益）\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.")]),s._v(" 并发环境下，如何验证代码是否正常？\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MySql")]),s._v("和"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redis")]),s._v("数据一致性\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("数据脱敏优雅设计与实现\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24.")]),s._v(" 一行代码搞定系统操作日志\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Aop")]),s._v("简化"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyBatis")]),s._v("分页功能\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),s._v(" 遇到线程池有大坑 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" 通用解决方案\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBoot")]),s._v("读写分离实战（一个注解搞定读写分离 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" 强制路由主库）\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("典型的使用场景\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MQ")]),s._v("专题"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("如何确保消息的可靠性\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h2",{attrs:{id:"课程部分大纲-连载中。。。。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#课程部分大纲-连载中。。。。"}},[s._v("#")]),s._v(" 课程部分大纲，连载中。。。。")]),s._v(" "),t("p",[s._v("以下课程均来源于个人多年的实战，均提供原理讲解 && 源码落地")]),s._v(" "),t("ol",[t("li",[s._v("分片上传实战")]),s._v(" "),t("li",[s._v("通用并发处理工具类实战")]),s._v(" "),t("li",[s._v("实现一个好用接口性能压测工具类")]),s._v(" "),t("li",[s._v("超卖问题的4种解决方案，也是防止并发修改数据出错的通用方案")]),s._v(" "),t("li",[s._v("Semaphore实现接口限流实战")]),s._v(" "),t("li",[s._v("并行查询，优化接口响应速度实战")]),s._v(" "),t("li",[s._v("接口性能优化之大事务优化")]),s._v(" "),t("li",[s._v("通用的Excel动态导出功能实战")]),s._v(" "),t("li",[s._v("手写线程池管理器，管理&监控所有线程池")]),s._v(" "),t("li",[s._v("动态线程池")]),s._v(" "),t("li",[s._v("SpringBoot实现动态Job实战")]),s._v(" "),t("li",[s._v("并行查询，性能优化利器，可能有坑")]),s._v(" "),t("li",[s._v("幂等的4种解决方案，吃透幂等性问题")]),s._v(" "),t("li",[s._v("接口通用返回值设计与实现")]),s._v(" "),t("li",[s._v("接口太多，各种dto、vo不计其数，如何命名？")]),s._v(" "),t("li",[s._v("一个业务太复杂了，方法太多，如何传参？")]),s._v(" "),t("li",[s._v("接口报错，如何快速定位日志？")]),s._v(" "),t("li",[s._v("线程数据共享必学的3个工具类：ThreadLocal、InheritableThreadLocal、TransmittableThreadLocal")]),s._v(" "),t("li",[s._v("通过AOP统一打印请求链路日志，排错效率飞升")]),s._v(" "),t("li",[s._v("大批量任务处理常见的方案（模拟余额宝发放收益）")]),s._v(" "),t("li",[s._v("并发环境下，如何验证代码是否正常？")]),s._v(" "),t("li",[s._v("MySql和Redis数据一致性")]),s._v(" "),t("li",[s._v("SpringBoot数据脱敏优雅设计与实现")]),s._v(" "),t("li",[s._v("一行代码搞定系统操作日志")]),s._v(" "),t("li",[s._v("Aop简化MyBatis分页功能")]),s._v(" "),t("li",[s._v("ThreadLocal 遇到线程池有大坑 & 通用解决方案")]),s._v(" "),t("li",[s._v("SpringBoot读写分离实战（一个注解搞定读写分离 && 强制路由主库）")]),s._v(" "),t("li",[s._v("MQ专题：MQ典型的7种使用场景")]),s._v(" "),t("li",[s._v("MQ专题：如何确保消息的可靠性")]),s._v(" "),t("li",[s._v("MQ专题：事务消息落地")]),s._v(" "),t("li",[s._v("MQ专题：消息幂等消费通用方案")]),s._v(" "),t("li",[s._v("MQ专题：延迟消息通用方案实战")]),s._v(" "),t("li",[s._v("MQ专题：顺序消息通用方案实战")]),s._v(" "),t("li",[s._v("MQ专题：消息积压问题")]),s._v(" "),t("li",[s._v("分布式事务：事务消息实现事务最终一致性")]),s._v(" "),t("li",[s._v("分布式事务：通用的TCC分布式事务生产级代码落地实战")]),s._v(" "),t("li",[s._v("分布式锁案例实战")]),s._v(" "),t("li",[s._v("微服务中如何传递上下文？实战")]),s._v(" "),t("li",[s._v("微服务链路日志追踪实战（原理&代码落地）")]),s._v(" "),t("li",[s._v("SpringBoot实现租户数据隔离")]),s._v(" "),t("li",[s._v("MyBatis进阶：封装MyBatis，实现通用的无SQL版CRUD功能，架构师必备")]),s._v(" "),t("li",[s._v("MyBatis进阶：自己实现通用分表功能，架构师必备")]),s._v(" "),t("li",[s._v("MyBatis进阶：实现多租户隔离ORM框架")]),s._v(" "),t("li",[s._v("SpringBoot中实现自动监听PO的变化，自动生成表结构")]),s._v(" "),t("li",[s._v("分布式专题：其他实战课程等")]),s._v(" "),t("li",[s._v("性能调优：如何排查死锁？")]),s._v(" "),t("li",[s._v("性能调优：如何排查内存溢出？")]),s._v(" "),t("li",[s._v("性能调优：CPU被打满，如何排查？")]),s._v(" "),t("li",[s._v("性能调优：生产代码没生效，如何定位？")]),s._v(" "),t("li",[s._v("性能调优：接口太慢，如何定位？")]),s._v(" "),t("li",[s._v("性能调优：如何查看生产上接口的入参和返回值？")]),s._v(" "),t("li",[s._v("性能调优：远程debug")]),s._v(" "),t("li",[s._v("生产上出现了各种故障，如何定位？")]),s._v(" "),t("li",[s._v("db和缓存一致性，常见的方案")]),s._v(" "),t("li",[s._v("Redis场景案例。。。")]),s._v(" "),t("li",[s._v("系统资金账户设计案例（一些系统涉及到资金操作）")]),s._v(" "),t("li",[s._v("其他等各种实战案例。。。")])])])}),[],!1,null,null,null);t.default=v.exports}}]);